import matplotlib.pyplot as plt
import numpy as np
from util import *
from math import gcd as bltin_gcd

def coprime2(a, b):
    return bltin_gcd(a, b) == 1

#A = [3709, 3907, 5689, 10111, 10903, 11299, 11497, 12289, 12487, 17107, 18097, 18493, 18691, 22717, 23311, 23509, 24103, 24499, 24697, 28921, 30109, 30307, 30703, 35323, 35521, 36313, 36709, 37501, 48523, 49117, 49711, 54133, 54331, 54727, 55717, 56113, 56311, 56509, 60337, 60733, 61129, 61723, 62119, 66739, 67531, 67927, 68521, 68917, 73141, 74131, 74527, 74923]
#A = [383, 977, 1373, 1571, 2957, 3947, 4937, 5333, 5531, 5927, 6389, 6983, 7577, 8171, 8369, 8963, 9161, 10151, 11933, 12329, 12527, 12791, 13187, 13781, 14177, 14771, 14969, 15761, 15959, 16553, 17939, 18731, 19391, 20183, 21569, 21767, 23549, 23747, 25793, 26189, 26387, 26783, 26981, 27179, 27773, 28961, 29753, 30347, 30941, 31139, 31337, 31601, 31799, 32789, 32987, 33581, 35363, 35759, 36353, 36551, 36749, 36947, 38201, 38993, 39191, 39983, 40577, 40973, 42359, 42557, 42953, 43151, 43943, 44207, 45197, 45989, 46187, 47969, 48563, 48761, 49157, 50147, 50411, 51203, 51599, 51797, 52391, 53381, 53777, 54371, 54767, 55163, 56813, 57803, 58199, 58991, 59387, 59981, 60773, 61169, 61961, 62753, 63611, 63809, 64007, 64403, 64601, 64997, 65393, 65789, 66383, 66977, 67967, 70607, 71399, 71597, 71993, 73181, 73379, 73973, 74567, 75161, 75821]
#A = [107, 503, 701, 1097, 1493, 1889, 2087, 2879, 3671, 4463, 5651, 5849, 6047, 6311, 7103, 7499, 8093, 8291, 9281, 9479, 9677, 10271, 10667, 11261, 11657, 12251, 12713, 12911, 13109, 13901, 14891, 15287, 15683, 15881, 16673, 16871, 18059, 18257, 18917, 19709, 20897, 21491, 22283, 22481, 22679, 22877, 23669, 24659, 25913, 26111, 26309, 26903, 27299, 27893, 28289, 29873, 30071, 30269, 30467, 31259, 31721, 32117, 32909, 33107, 33503, 35879, 36473, 36671, 37463, 38321, 39113, 39509, 40499, 40697, 41687, 42083, 42281, 42677, 43271, 44129, 45119, 45317, 46307, 46703, 46901, 47297, 49277, 49871, 50069, 50333, 51521, 51719, 52313, 52511, 52709, 53699, 53897, 54293, 57131, 57329, 57527, 57923, 58913, 60101, 60497, 61091, 61487, 62081, 62477, 62939, 63533, 63929, 64919, 66107, 66701, 67493, 68087, 68483, 68879, 69341, 69539, 69737, 70529, 72707, 74093, 74489, 74687, 75083, 75743, 75941, 76733]
A = [10561, 10759, 11155, 16963, 48775, 60787, 60985, 67189, 67387, 73393, 73987]


for i in A:
    if (not isPrime(i)):
        print(i, " NOT PRIME")


B = randPrimes(min(A), max(A), len(A))
R = np.array(A)
P = np.array(B)

def allSame(l):
    i = 1
    v = l[0]
    while (i < len(l)):
        if (l[i] != v):
            return False
        i += 1
    return True

def isMultiple(n, l):
    for i in l:
        if (n % i == 0):
            return True
    return False

i = 2
n = []
m = []
while i < 10000:
    #if (isPrime(i) or isMultiple(i, n)):
    X = R % i
    Z = P % i
    if (allSame(X)):
        n.append((i, X[0]))
    if (allSame(Z)):
        m.append((i, Z[0]))

    i += 1
print(n)
print(m)
#Check resiudals module primes
#record primes for which residue is same for all of set

'''
n = 66
X = R % n
i = 0
increment = 29
c = n + increment
numSucc = 0
numTrials = 100000
while (i < numTrials):
    if (isPrime(c)):
        numSucc += 1
    c += increment
    i += 1
print(100 * numSucc / numTrials)
'''